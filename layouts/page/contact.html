{{ define "main" }}
<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">{{ .Title }}</h1>
  </header>

  <div class="post-content">
    {{ .Content }}

    <form
      id="contact-form"
      action="https://formsubmit.co/chrisyao0208@163.com"
      method="post"
    >
      <label>你的名字:</label><br />
      <input type="text" name="name" required /><br /><br />

      <label>你的邮箱:</label><br />
      <input type="email" name="email" required /><br /><br />

      <label>留言:</label><br />
      <textarea name="message" rows="6" required></textarea><br /><br />

      <button type="submit">发送</button>
    </form>
    <div id="form-status"></div>
  </div>
</article>

<script>
  // document.addEventListener("DOMContentLoaded", function () {
  //   const form = document.getElementById("contact-form");
  //   const status = document.getElementById("form-status");

  //   form.addEventListener("submit", async function (event) {
  //     event.preventDefault(); // 阻止表单默认提交
  //     const data = new FormData(form);

  //     try {
  //       const response = await fetch(
  //         "https://formsubmit.co/chrisyao0208@163.com",
  //         {
  //           method: "POST",
  //           body: data,
  //           headers: {
  //             Accept: "application/json",
  //           },
  //         }
  //       );

  //       if (response.ok) {
  //         status.innerHTML = "<p style='color:green;'>✔️ 发送成功！</p>";
  //         form.reset();
  //       } else {
  //         status.innerHTML = "<p style='color:red;'>❌ 发送失败，请重试。</p>";
  //       }
  //     } catch (error) {
  //       status.innerHTML =
  //         "<p style='color:red;'>⚠️ 网络错误，请稍后再试。</p>";
  //     }
  //   });
  // });
</script>

{{ end }}
